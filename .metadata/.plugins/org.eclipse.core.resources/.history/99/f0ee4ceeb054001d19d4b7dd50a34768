package data;

import java.sql.Connection;

import java.sql.SQLException;
import java.sql.Statement;


import main.GamePainel;

public class SaveLoad 
{
	GamePainel gp;
	
	Connection connection = null;
	Statement stmt = null;
	
	
	public SaveLoad(GamePainel gp)
	{
		this.gp = gp;
	}
	
	public void Salvar(GamePainel gp)
	{
		
		try 
        {
            //stmt = connection.createStatement();

            String sql = "INSERT INTO progresso(id,level,vida,moeda,posLinha,posColuna) "
            		   + "VALUES ('"+gp.player.speed+"','"+gp.player.level+"', '"+gp.player.vida+"', '"+gp.player.moeda+"', '"+(gp.player.worldY + gp.player.solidArea.x)/gp.tileSize+"', '"+ (gp.player.worldX + gp.player.solidArea.x)/gp.tileSize+"')";
            System.out.println("SQL: " + sql);
            stmt.executeUpdate(sql);
           
            
            return;
        } 
        catch (SQLException e)
        {
            System.out.println(e.getMessage());
            return;
        } 
		finally
		{
	        try 
	        {
	            stmt.close();
	            connection.close();
	        }
	        catch (SQLException e)
	        {
	            System.out.println("Erro ao desconectar" + e.getMessage());
	        }
	    }
		
	}
	
} 
	
	
	

